<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Remote Employees Pre-Onboarding</title>
    <style>
        :root {
            --primary: #3b82f6;
            --primary-light: #60a5fa;
            --primary-dark: #2563eb;
            --accent: #f97316;
            --accent-light: #fb923c;
            --accent-dark: #ea580c;
            --bg: #0f172a;
            --card: #1e293b;
            --text: #f1f5f9;
            --text-secondary: #cbd5e1;
            --border: #334155;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: system-ui, -apple-system, sans-serif;
            background: linear-gradient(135deg, #1e293b, #0f172a);
            min-height: 100vh;
            padding: 20px;
            color: var(--text);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: var(--bg);
            border-radius: 24px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.6);
        }

        .header { text-align: center; margin-bottom: 40px; }
        .header h1 {
            font-size: 2.5rem;
            background: linear-gradient(90deg, var(--primary-light), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
            line-height: 1.2;
        }

        /* --- STATS & PROGRESS --- */
        .stats-bar {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .stat-card {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
            transition: transform 0.3s;
        }
        .stat-card:hover { transform: translateY(-2px); }
        .stat-card:nth-child(2) { background: linear-gradient(135deg, var(--accent), var(--accent-light)); box-shadow: 0 4px 15px rgba(249, 115, 22, 0.3); }
        .stat-card:nth-child(3) { background: linear-gradient(135deg, var(--primary), var(--accent)); }
        .stat-card h3 { font-size: 2rem; margin-bottom: 5px; }

        .progress-bar {
            width: 100%; height: 30px; background: #334155; border-radius: 15px; overflow: hidden; margin-bottom: 30px;
        }
        .progress-fill {
            height: 100%; background: linear-gradient(90deg, var(--primary), var(--accent));
            display: flex; align-items: center; justify-content: center; font-weight: 700; transition: width 0.5s; white-space: nowrap;
        }

        /* --- CONTROLS --- */
        .controls, .filter-buttons { display: flex; gap: 15px; margin-bottom: 30px; flex-wrap: wrap; }
        input[type="text"] {
            flex: 1; min-width: 200px; padding: 12px; border: 2px solid var(--border);
            background: var(--card); color: var(--text); border-radius: 8px; font-size: 16px;
        }
        .btn {
            padding: 12px 24px; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; color: white; transition: all 0.3s; white-space: nowrap;
        }
        .btn-primary { background: linear-gradient(135deg, var(--primary), var(--primary-light)); }
        .btn-success { background: var(--accent); }

        .filter-btn {
            padding: 8px 16px; border: 2px solid var(--primary); background: transparent; color: var(--primary);
            border-radius: 6px; cursor: pointer; transition: all 0.3s; flex-grow: 1; text-align: center;
        }
        .filter-btn.active, .filter-btn:hover { background: var(--primary); color: white; }

        /* --- TASKS STYLING --- */
        .task-card {
            background: var(--card); border: 2px solid var(--border); border-radius: 12px; padding: 15px; margin-bottom: 20px; transition: all 0.3s;
        }
        .task-card:hover { transform: translateY(-2px); border-color: var(--primary); }
        .task-card.completed {
            background: linear-gradient(135deg, #1e3a8a, #7c2d12); border-color: var(--primary); box-shadow: 0 0 15px rgba(59, 130, 246, 0.2);
        }

        .task-header {
            display: flex; align-items: center; justify-content: space-between; width: 100%; cursor: pointer; padding: 5px 0;
        }
        .task-left { display: flex; align-items: center; gap: 16px; flex-grow: 1; justify-content: flex-start; text-align: left; margin-right: 15px; }
        .task-right { display: flex; align-items: center; gap: 15px; flex-shrink: 0; }
        .task-emoji { font-size: 1.8rem; line-height: 1; flex-shrink: 0; }
        .task-title { font-size: 1.1rem; font-weight: 600; line-height: 1.4; color: var(--text); }
        .task-time, .task-points {
            padding: 4px 10px; border-radius: 6px; font-size: 0.8rem; color: white; white-space: nowrap; font-weight: 600;
        }
        .task-time { background: var(--primary); }
        .task-points { background: var(--accent); }

        .task-checkbox {
            -webkit-appearance: none; appearance: none; min-width: 28px; width: 28px; height: 28px;
            border: 2px solid #475569; border-radius: 8px; background-color: rgba(15, 23, 42, 0.5);
            cursor: pointer; display: grid; place-content: center; transition: all 0.2s ease;
        }
        .task-checkbox:checked { background-color: var(--primary); border-color: var(--primary); }
        .task-checkbox:checked::after { content: '‚úî'; color: white; font-size: 16px; font-weight: 700; }

        .task-content { margin-top: 20px; padding-top: 20px; border-top: 2px solid var(--border); display: none; animation: slideDown 0.3s; }
        .task-content.show { display: block; }
        @keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }

        .task-content h3 { margin-top: 15px; margin-bottom: 10px; color: var(--primary-light); }
        .task-content ul { margin-left: 20px; line-height: 1.6; }
        .task-content li { margin-bottom: 8px; }

        /* --- FINAL FORM STYLING --- */
        .final-form {
            background: rgba(0,0,0,0.2);
            padding: 20px;
            border-radius: 12px;
            margin-top: 15px;
            border: 1px solid var(--border);
        }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; color: var(--primary-light); font-weight: 600; }
        .form-group input { width: 100%; padding: 10px; border-radius: 6px; border: 1px solid var(--border); background: #0f172a; color: white; }
        .submit-btn { width: 100%; padding: 15px; margin-top: 10px; font-size: 1.1rem; }
        .form-status { margin-top: 10px; text-align: center; font-weight: bold; }
        .success-msg { color: #4ade80; }
        .error-msg { color: #ef4444; }

        /* --- BADGES & EXTRAS --- */
        .badge-container { display: flex; gap: 15px; flex-wrap: wrap; margin-top: 20px; justify-content: center; }
        .badge {
            padding: 8px 16px; border-radius: 8px; font-weight: 600; background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white; font-size: 0.9rem;
        }
        .badge.locked { background: #475569; opacity: 0.5; }

        .next-task-btn {
            background: var(--accent); color: white; padding: 15px 30px; border: none; border-radius: 10px; font-weight: 700;
            width: 100%; margin: 20px 0; cursor: pointer; font-size: 1.1rem; transition: background 0.3s;
        }
        .next-task-btn:hover { background: var(--accent-dark); }

        .certificate {
            background: var(--card); border: 5px solid; border-image: linear-gradient(135deg, var(--primary), var(--accent)) 1;
            padding: 30px; text-align: center; margin-top: 30px;
        }

        .pro-tip, .fact, .mistake { padding: 15px; margin: 15px 0; border-radius: 6px; color: var(--text-secondary); border-left: 4px solid; }
        .pro-tip { background: #7c2d12; border-color: var(--accent); }
        .fact { background: #1e3a8a; border-color: var(--primary); }
        .mistake { background: #991b1b; border-color: #ef4444; }

        canvas#confetti { position: fixed; top: 0; left: 0; pointer-events: none; z-index: 9999; }

        @media (max-width: 600px) {
            .task-header { flex-wrap: wrap; }
            .task-left { width: 100%; margin-bottom: 8px; margin-right: 0;}
            .task-right { width: 100%; justify-content: space-between; }
            .controls { flex-direction: column; }
            .container { padding: 15px; }
        }
        @media print { .controls, .filter-buttons, .next-task-btn, .badge-container { display: none; } .task-content { display: block !important; } }
    </style>
</head>
<body>
    <canvas id="confetti"></canvas>
    <div class="container">
        <div class="header">
            <h1>üöÄ Remote Employees Pre-Onboarding</h1>
            <p>Complete 16 tasks to become an AI-First Professional</p>
        </div>

        <div style="text-align:center;margin-bottom:20px;font-style:italic;color:var(--text-secondary)" id="quote"></div>

        <div class="stats-bar">
            <div class="stat-card">
                <h3 id="completedCount">0</h3>
                <p>Tasks Completed</p>
            </div>
            <div class="stat-card">
                <h3 id="totalPoints">0</h3>
                <p>Total Points</p>
            </div>
            <div class="stat-card">
                <h3 id="streak">0</h3>
                <p>Current Streak</p>
            </div>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressFill">0%</div>
        </div>

        <div class="badge-container" id="badges">
            <div class="badge locked">ü§ñ AI Master</div>
            <div class="badge locked">üåê Chrome Ninja</div>
            <div class="badge locked">üìä Sheets Wizard</div>
            <div class="badge locked">üéØ 100% Complete</div>
        </div>

        <button class="next-task-btn" id="nextTaskBtn">‚ñ∂Ô∏è Start First Task</button>

        <div class="controls">
            <input type="text" id="searchInput" placeholder="üîç Search tasks...">
            <button class="btn btn-primary" onclick="exportData()">üì• Export</button>
            <button class="btn btn-success" onclick="window.print()">üñ®Ô∏è Certificate</button>
        </div>

        <div class="filter-buttons">
            <button class="filter-btn active" data-f="all">All</button>
            <button class="filter-btn" data-f="completed">Completed</button>
            <button class="filter-btn" data-f="incomplete">Incomplete</button>
        </div>

        <div id="tasksContainer"></div>

        <div id="certSection" style="display:none">
            <div class="certificate">
                <h2>üèÜ Certificate of Completion</h2>
                <p>Remote Employee has successfully completed all tasks</p>
                <p>Total Points: <strong id="certPoints">0</strong> | Date: <strong id="certDate"></strong></p>
            </div>
        </div>
    </div>

<script>
    // –í–°–¢–ê–í–¨–¢–ï –°–Æ–î–ê URL –í–ê–®–ï–ì–û GOOGLE APPS SCRIPT
    const SCRIPT_URL = '–í–ê–®_–°–°–´–õ–ö–ê_–ù–ê_–°–ö–†–ò–ü–¢_–ò–ó_–ü–£–ù–ö–¢–ê_1';

    const tasks = [
        {
            id: 1,
            emoji: "üí¨",
            title: "If You Get Stuck - Our AI-First Approach",
            time: "5 min",
            points: 5,
            why: "Remote Employees is an AI-first company. We use AI for everything. You need to master AI tools!",
            steps: ["First: Try AI (ChatGPT, Gemini, Claude, or Cursor)", "Second: Search online (Google, YouTube)", "Third: Contact HR on Telegram", "Remember: AI is your assistant, not a replacement"],
            deliverables: ["Understand our AI-first philosophy", "Know the order: AI ‚Üí Search ‚Üí HR"],
            facts: ["Our team solves 80%+ of problems using AI assistants", "AI helps you work 3x faster"],
            tips: ["Always describe your problem in detail to AI", "Include what you've already tried"],
            mistakes: ["‚ùå Not trying AI first before asking HR", "‚úÖ Use AI, search, then contact HR"]
        },
        {
            id: 2,
            emoji: "üíª",
            title: "Install Core Software",
            time: "20-30 min",
            points: 30,
            why: "You need all essential tools installed before Day 1: Dropbox, Discord, VS Code, Cursor, AntiGravity.",
            steps: ["Install Dropbox from dropbox.com", "Install Discord from discord.com", "Install VS Code from code.visualstudio.com", "Install Cursor from cursor.sh", "Install AntiGravity", "Install Wispr Flow"],
            deliverables: ["All 6 software installed and ready to open (no errors)"],
            facts: ["Dropbox syncs 24/7 automatically", "VS Code is used by 14+ million developers"],
            tips: ["Test each software immediately after install"],
            mistakes: ["‚ùå Skipping software testing"]
        },
        {
            id: 3,
            emoji: "üìÅ",
            title: "Create Your Pre-Onboarding Folder in Dropbox",
            time: "5 min",
            points: 5,
            why: "All work files sync across all 3 editors automatically.",
            steps: ["Open Dropbox folder", "Create new folder named: Pre-Onboarding", "Verify green checkmark (synced)", "Share folder with hr@remoteemployees.com (Can edit)"],
            deliverables: ["Folder created: Dropbox/Pre-Onboarding/", "Green checkmark showing sync", "Folder shared with HR"],
            facts: ["This folder becomes your workspace for all 3 editors"],
            tips: ["Wait for green checkmark before sharing"],
            mistakes: ["‚ùå Forgetting to share with HR"]
        },
        {
            id: 4,
            emoji: "üß≠",
            title: "Connect VS Code to Dropbox Folder",
            time: "5 min",
            points: 5,
            why: "VS Code needs to 'open' your folder to work with files inside it.",
            steps: ["Launch VS Code", "File ‚Üí Open Folder ‚Üí Dropbox/Pre-Onboarding", "Create test.txt file", "Type 'Hello from VS Code' and save"],
            deliverables: ["VS Code shows PRE-ONBOARDING folder in sidebar", "Test file created"],
            facts: ["VS Code is now 'watching' this folder"],
            tips: ["You're opening the FOLDER, not a file"],
            mistakes: ["‚ùå Opening a file instead of folder"]
        },
        {
            id: 5,
            emoji: "ü§ñ",
            title: "Connect Cursor to Same Dropbox Folder",
            time: "5 min",
            points: 5,
            why: "Connect Cursor to SAME folder so you can switch between VS Code and Cursor!",
            steps: ["Launch Cursor", "File ‚Üí Open Folder ‚Üí Dropbox/Pre-Onboarding", "Verify you see test.txt", "Add line: 'Hello from Cursor!'", "Save and check VS Code"],
            deliverables: ["Cursor shows PRE-ONBOARDING folder open", "Edits in Cursor appear in VS Code"],
            facts: ["This is cloud sync magic - edit anywhere!"],
            tips: ["Use Alt+Tab to switch between editors"],
            mistakes: ["‚ùå Closing VS Code when opening Cursor"]
        },
        {
            id: 6,
            emoji: "üå¨Ô∏è",
            title: "Connect AntiGravity to Complete 3-Editor Setup",
            time: "5 min",
            points: 5,
            why: "Third editor! Now you have 3 editors with same files.",
            steps: ["Launch AntiGravity", "File ‚Üí Open Folder ‚Üí Dropbox/Pre-Onboarding", "Verify test.txt with both lines", "Add line: 'Hello from AntiGravity!'"],
            deliverables: ["All 3 editors open to same folder", "test.txt shows lines from all 3 editors"],
            facts: ["3x AI capacity! Infinite workflow!"],
            tips: ["Keep all 3 editors open"],
            mistakes: ["‚ùå Only using one editor"]
        },
        {
            id: 7,
            emoji: "üßæ",
            title: "What is Markdown (.md)?",
            time: "5 min",
            points: 5,
            why: "All documentation uses .md (Markdown) format.",
            steps: ["Learn: Markdown is plain text with symbols", "# for headings, **bold**, - lists", "Press Ctrl+Shift+V to preview"],
            deliverables: ["Understand what Markdown is", "Understand basic syntax"],
            facts: ["AI tools read/write Markdown natively"],
            tips: ["Use preview mode to see formatted version"],
            mistakes: ["‚ùå Using Word documents for notes"]
        },
        {
            id: 8,
            emoji: "üìß",
            title: "Create Work Email & Save Credentials",
            time: "30 min",
            points: 30,
            why: "You MUST have work email BEFORE setting up Chrome/LinkedIn.",
            steps: ["Wait for HR to send work email", "Create Gmail account", "Create LinkedIn profile", "Save credentials in my_credentials.md file"],
            deliverables: ["Work Gmail created", "LinkedIn profile with work email", "File: my_credentials.md"],
            facts: ["Credentials file automatically backed up in Dropbox"],
            tips: ["Test Gmail login before continuing"],
            mistakes: ["‚ùå Not testing login immediately"]
        },
        {
            id: 9,
            emoji: "üåê",
            title: "Set Up Google Chrome",
            time: "15 min",
            points: 15,
            why: "Chrome is your hub for ALL AI tools.",
            steps: ["Create work profile: 'Remote Employees Work'", "Sign in with work Gmail", "Create 'AI Tools' bookmarks folder", "Add 10 AI tool bookmarks"],
            deliverables: ["Chrome work profile created", "AI Tools folder with 10 bookmarks", "Screenshot saved"],
            facts: ["Sync keeps bookmarks across devices"],
            tips: ["Choose profile color to distinguish from personal"],
            mistakes: ["‚ùå Using personal Chrome profile"]
        },
        {
            id: 10,
            emoji: "üîç",
            title: "Chrome Mastery - Shortcuts & Tab Groups",
            time: "20 min",
            points: 20,
            why: "Work with 20+ tabs simultaneously. Shortcuts make you 3x faster.",
            steps: ["Practice shortcuts: Ctrl+T, Ctrl+W, Ctrl+Shift+T", "Create 3 tab groups: AI Tools, Work Apps, Research", "Screenshot tab groups"],
            deliverables: ["Practiced all shortcuts", "Created 3 tab groups", "Screenshot saved"],
            facts: ["Shortcuts save hours per week"],
            tips: ["Collapse groups not actively using"],
            mistakes: ["‚ùå Using mouse to switch tabs"]
        },
        {
            id: 11,
            emoji: "üß†",
            title: "AI Superpowers Research",
            time: "60 min",
            points: 60,
            why: "Different AI tools excel at different things!",
            steps: ["Research AI capabilities using Perplexity", "Ask about text, image, video, code AI", "Create cheat sheet", "Add personal quick decision guide"],
            deliverables: ["File: ai_tools_superpowers.md", "Researched 6+ AI categories"],
            facts: ["ChatGPT has DALL-E", "Gemini generates video", "Claude is best for analysis"],
            tips: ["Ask AI to format your notes"],
            mistakes: ["‚ùå Using only ChatGPT for everything"]
        },
        {
            id: 12,
            emoji: "üéôÔ∏è",
            title: "Wispr Flow Setup & Voice-to-Text",
            time: "30 min",
            points: 30,
            why: "Speak instead of typing! Think 3x faster.",
            steps: ["Launch Wispr Flow", "Configure hotkey", "DISABLE 'Mute music while dictating'", "Test dictation", "Document in wispr_practice.md"],
            deliverables: ["Wispr configured", "'Mute music' DISABLED", "Practice file created"],
            facts: ["Speak 3x faster than typing"],
            tips: ["Speak clearly and at normal pace"],
            mistakes: ["‚ùå Leaving 'Mute music' enabled"]
        },
        {
            id: 13,
            emoji: "üé®",
            title: "Good vs Bad Prompts - Images",
            time: "45 min",
            points: 45,
            why: "AI image quality depends on YOUR prompt!",
            steps: ["Learn prompt structure", "Generate same prompt in 2 AI tools", "Compare results", "Document in comparison file"],
            deliverables: ["Generated 2 images", "File: image_generation_comparison.md"],
            facts: ["Specific prompts = better images"],
            tips: ["Be VERY specific in prompts"],
            mistakes: ["‚ùå Vague prompts"]
        },
        {
            id: 14,
            emoji: "üé•",
            title: "Video Generation - Test AI Tools",
            time: "45 min",
            points: 45,
            why: "AI can now generate VIDEOS!",
            steps: ["Find 2 video AI tools (e.g. Gemini)", "Generate same prompt in 2 tools", "Compare quality", "Document in comparison file"],
            deliverables: ["Tested 2 video AI tools", "File: video_generation_comparison.md"],
            facts: ["Gemini can generate short videos!"],
            tips: ["Start with short videos (5s)"],
            mistakes: ["‚ùå Expecting Hollywood quality immediately"]
        },
        {
            id: 15,
            emoji: "üìä",
            title: "Google Sheets Mastery",
            time: "45 min",
            points: 60,
            why: "We use Google Sheets DAILY.",
            steps: ["Create 'AI Tools Checklist' sheet", "Freeze row 1", "Create dropdowns", "Conditional formatting for duplicates", "Share with HR"],
            deliverables: ["Sheet with frozen rows, dropdowns, conditional formatting", "Shared with HR"],
            facts: ["Formulas automate calculations"],
            tips: ["Freeze both row AND column"],
            mistakes: ["‚ùå Manual coloring instead of conditional formatting"]
        },
        {
            id: 16,
            emoji: "üèÅ",
            title: "When are you done?",
            time: "5 min",
            points: 100,
            why: "Submit your results to the team to finish onboarding.",
            steps: ["Verify all tasks above are checked", "Fill in the form below", "Click Submit"],
            deliverables: ["Form submitted successfully"],
            facts: ["This triggers your official onboarding completion"],
            isForm: true // Special flag for the form
        }
    ];

    let currentFilter = 'all';

    const quotes = [
        "The journey of a thousand miles begins with a single step",
        "Success is not final, failure is not fatal",
        "AI is not magic, it's just math",
        "Every expert was once a beginner",
        "The only way to do great work is to love what you do",
        "Your limitation‚Äîit's only your imagination",
        "Great things never come from comfort zones",
        "The harder you work, the luckier you get"
    ];

    function init() {
        renderTasks();
        loadProgress();
        updateStats();
        document.getElementById('quote').innerText = `"${quotes[Math.floor(Math.random() * quotes.length)]}"`;

        document.getElementById('searchInput').addEventListener('input', filterTasks);

        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', e => {
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                e.target.classList.add('active');
                currentFilter = e.target.dataset.f;
                filterTasks();
            });
        });

        document.getElementById('nextTaskBtn').addEventListener('click', () => {
            const nextTaskIndex = tasks.findIndex((_, i) => !document.getElementById(`cb-${i + 1}`).checked);
            if (nextTaskIndex !== -1) {
                const taskElement = document.getElementById(`t-${nextTaskIndex + 1}`);
                taskElement.scrollIntoView({ behavior: 'smooth' });
                taskElement.querySelector('.task-content').classList.add('show');
            }
        });
    }

    function renderTasks() {
        const container = document.getElementById('tasksContainer');
        container.innerHTML = '';

        tasks.forEach(task => {
            const taskDiv = document.createElement('div');
            taskDiv.className = 'task-card';
            taskDiv.id = `t-${task.id}`;

            let contentHtml = '';
            
            // –ï—Å–ª–∏ —ç—Ç–æ –∑–∞–¥–∞–Ω–∏–µ —Å —Ñ–æ—Ä–º–æ–π (Task 16)
            if (task.isForm) {
                contentHtml = `
                    <h3>üöÄ Final Submission</h3>
                    <p>${task.why}</p>
                    <form class="final-form" onsubmit="submitFinalForm(event, ${task.id})">
                        <div class="form-group">
                            <label>Full Name</label>
                            <input type="text" id="fullName" required placeholder="Ivan Ivanov">
                        </div>
                        <div class="form-group">
                            <label>Dropbox Link (Folder)</label>
                            <input type="url" id="dropboxLink" required placeholder="https://www.dropbox.com/...">
                        </div>
                        <div class="form-group">
                            <label>Google Sheet Link</label>
                            <input type="url" id="sheetLink" required placeholder="https://docs.google.com/spreadsheets/...">
                        </div>
                        <button type="submit" class="btn btn-primary submit-btn" id="submitBtn">üöÄ Submit & Finish</button>
                        <p class="form-status" id="formStatus"></p>
                    </form>
                `;
            } else {
                // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ
                contentHtml = `
                    <h3>üí° Why</h3>
                    <p>${task.why}</p>

                    <h3>üìã Steps</h3>
                    <ul>${task.steps.map(s => `<li>${s}</li>`).join('')}</ul>

                    <h3>‚úÖ Deliverables</h3>
                    <ul>${task.deliverables ? task.deliverables.map(d => `<li>${d}</li>`).join('') : ''}</ul>

                    ${task.facts ? `<div class="fact"><strong>üìö Facts:</strong><ul>${task.facts.map(f => `<li>${f}</li>`).join('')}</ul></div>` : ''}

                    ${task.tips ? `<div class="pro-tip"><strong>üéØ Tips:</strong><ul>${task.tips.map(t => `<li>${t}</li>`).join('')}</ul></div>` : ''}

                    ${task.mistakes ? `<div class="mistake"><strong>üö® Mistakes:</strong><ul>${task.mistakes.map(m => `<li>${m}</li>`).join('')}</ul></div>` : ''}
                `;
            }

            taskDiv.innerHTML = `
                <div class="task-header" onclick="toggleTask(${task.id})">
                    <div class="task-left">
                        <span class="task-emoji">${task.emoji}</span>
                        <span class="task-title">${task.id}: ${task.title}</span>
                    </div>
                    <div class="task-right">
                        <span class="task-time">${task.time}</span>
                        <span class="task-points">${task.points} pts</span>
                        <input type="checkbox" class="task-checkbox" id="cb-${task.id}" onclick="checkTask(event, ${task.id})">
                    </div>
                </div>
                <div class="task-content" id="ct-${task.id}">
                    ${contentHtml}
                </div>
            `;

            container.appendChild(taskDiv);
        });
    }

    function toggleTask(id) {
        document.getElementById(`ct-${id}`).classList.toggle('show');
    }

    function checkTask(event, id) {
        event.stopPropagation();
        const isChecked = document.getElementById(`cb-${id}`).checked;
        document.getElementById(`t-${id}`).classList.toggle('completed', isChecked);

        if (isChecked) {
            showToast(tasks.find(t => t.id === id).points);
        }

        saveProgress();
        updateStats();
        checkCompletion();
    }

    function submitFinalForm(e, id) {
        e.preventDefault();
        
        if (SCRIPT_URL === '–í–ê–®_–°–°–´–õ–ö–ê_–ù–ê_–°–ö–†–ò–ü–¢_–ò–ó_–ü–£–ù–ö–¢–ê_1' || SCRIPT_URL.length < 10) {
            alert('–û—à–∏–±–∫–∞: –í—ã –Ω–µ –¥–æ–±–∞–≤–∏–ª–∏ —Å—Å—ã–ª–∫—É –Ω–∞ Google Script –≤ –∫–æ–¥ (—Å—Ç—Ä–æ–∫–∞ const SCRIPT_URL).');
            return;
        }

        const btn = document.getElementById('submitBtn');
        const status = document.getElementById('formStatus');
        const fullName = document.getElementById('fullName').value;
        const dropboxLink = document.getElementById('dropboxLink').value;
        const sheetLink = document.getElementById('sheetLink').value;

        btn.disabled = true;
        btn.innerText = "Sending...";
        status.innerText = "";

        const data = {
            fullName: fullName,
            dropboxLink: dropboxLink,
            sheetLink: sheetLink
        };

        fetch(SCRIPT_URL, {
            method: 'POST',
            mode: 'no-cors', // –í–∞–∂–Ω–æ –¥–ª—è Google Scripts
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(data)
        })
        .then(response => {
            // –ü—Ä–∏ no-cors –º—ã –Ω–µ –≤–∏–¥–∏–º —Ä–µ–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å, –Ω–æ —Å—á–∏—Ç–∞–µ–º —á—Ç–æ —É—à–ª–æ, –µ—Å–ª–∏ –Ω–µ—Ç –æ—à–∏–±–∫–∏ —Å–µ—Ç–∏
            status.innerText = "‚úÖ Sent successfully!";
            status.className = "form-status success-msg";
            btn.innerText = "Done";
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–≤–∏–º –≥–∞–ª–æ—á–∫—É
            const checkbox = document.getElementById(`cb-${id}`);
            if (!checkbox.checked) {
                checkbox.click();
            }
            
            // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
            // e.target.reset();
        })
        .catch(error => {
            console.error('Error:', error);
            status.innerText = "‚ùå Error sending data. Check console.";
            status.className = "form-status error-msg";
            btn.disabled = false;
            btn.innerText = "Try Again";
        });
    }

    function updateStats() {
        const completed = tasks.filter((_, i) => document.getElementById(`cb-${i + 1}`).checked).length;
        const points = tasks.reduce((sum, task, i) => 
            sum + (document.getElementById(`cb-${i + 1}`).checked ? task.points : 0), 0
        );

        document.getElementById('completedCount').innerText = completed;
        document.getElementById('totalPoints').innerText = points;
        document.getElementById('streak').innerText = completed;
        document.getElementById('progressFill').style.width = `${(completed / tasks.length) * 100}%`;
        document.getElementById('progressFill').innerText = `${Math.round((completed / tasks.length) * 100)}%`;

        const badgesDiv = document.getElementById('badges');
        const badges = badgesDiv.children;

        if ([9, 11, 13, 14].every(id => document.getElementById(`cb-${id}`).checked)) {
            badges[0].classList.remove('locked');
        }
        if (document.getElementById('cb-10').checked) {
            badges[1].classList.remove('locked');
        }
        if (document.getElementById('cb-15').checked) {
            badges[2].classList.remove('locked');
        }
        if (completed === tasks.length) {
            badges[3].classList.remove('locked');
        }
    }

    function checkCompletion() {
        if (tasks.every((_, i) => document.getElementById(`cb-${i + 1}`).checked)) {
            document.getElementById('certSection').style.display = 'block';
            document.getElementById('certPoints').innerText = document.getElementById('totalPoints').innerText;
            document.getElementById('certDate').innerText = new Date().toLocaleDateString();
            document.getElementById('certSection').scrollIntoView({ behavior: 'smooth' });
            fireConfetti();
        }
    }

    function filterTasks() {
        const searchTerm = document.getElementById('searchInput').value.toLowerCase();

        tasks.forEach((task, i) => {
            const taskElement = document.getElementById(`t-${i + 1}`);
            const isChecked = document.getElementById(`cb-${i + 1}`).checked;

            let visible = task.title.toLowerCase().includes(searchTerm);

            if (currentFilter === 'completed' && !isChecked) visible = false;
            if (currentFilter === 'incomplete' && isChecked) visible = false;

            taskElement.style.display = visible ? 'block' : 'none';
        });
    }

    function saveProgress() {
        const progress = {};
        tasks.forEach((_, i) => {
            progress[`t-${i + 1}`] = document.getElementById(`cb-${i + 1}`).checked;
        });
        localStorage.setItem('onboarding_progress', JSON.stringify(progress));
    }

    function loadProgress() {
        const progress = JSON.parse(localStorage.getItem('onboarding_progress'));
        if (progress) {
            Object.keys(progress).forEach(key => {
                const checkbox = document.getElementById(key.replace('t', 'cb'));
                if (checkbox) {
                    checkbox.checked = progress[key];
                    if (progress[key]) {
                        document.getElementById(key).classList.add('completed');
                    }
                }
            });
        }
    }

    function showToast(points) {
        const toast = document.createElement('div');
        toast.innerText = `üéâ +${points} points!`;
        toast.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            background: #f97316;
            color: white;
            padding: 15px;
            border-radius: 8px;
            z-index: 9999;
            font-weight: bold;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            animation: slideIn 0.3s;
        `;
        document.body.appendChild(toast);
        setTimeout(() => toast.remove(), 2000);
    }

    function fireConfetti() {
        const canvas = document.getElementById('confetti');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const particles = Array(100).fill().map(() => ({
            x: Math.random() * canvas.width,
            y: -20,
            speed: Math.random() * 5 + 2,
            color: `hsl(${Math.random() * 360}, 100%, 50%)`
        }));

        let frame = 0;
        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles.forEach(p => {
                p.y += p.speed;
                ctx.fillStyle = p.color;
                ctx.fillRect(p.x, p.y, 5, 5);
                if (p.y > canvas.height) p.y = -20;
            });
            if (frame++ < 200) requestAnimationFrame(animate);
            else canvas.style.display = 'none';
        }
        animate();
    }

    function exportData() {
        const data = {
            date: new Date().toISOString(),
            points: document.getElementById('totalPoints').innerText,
            completed: document.getElementById('completedCount').innerText
        };
        const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
        const a = document.createElement('a');
        a.href = URL.createObjectURL(blob);
        a.download = 'progress.json';
        a.click();
    }

    window.onload = init;
</script>
</body>
</html>
